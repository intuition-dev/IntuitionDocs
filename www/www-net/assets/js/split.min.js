// mB v5.06.06 on 2019-05-18T00:46:08.631Z
var fsm = new StateMachine({
 init: 'loaded',
 transitions: [ {
  name: 'load',
  from: 'animate',
  to: 'loaded'
 }, {
  name: 'clone',
  from: 'loaded',
  to: 'cloned'
 }, {
  name: 'split',
  from: 'cloned',
  to: 'animate'
 }, {
  name: 'fade',
  from: 'loaded',
  to: 'animate'
 } ],
 methods: {
  onBeforeClone: function() {
   cloneDom($('#router'));
  },
  onBeforeSplit: function() {
   splitAnimation($('#routerFx'));
  },
  onFade: function(lifecycle, arg1) {
   fadeAnimation(arg1);
  }
 }
});
function onNavigate(evt) {
 if (evt.detail.type == SPArouter.NavSTART) evt.detail.fromHref.indexOf('landing'); else if (evt.detail.type == SPArouter.NavDONE) if (evt.detail.fromHref.indexOf('landing') > -1) $('#router').html(evt.detail.newContent), 
 fsm.split(); else if (evt.detail.toHref.indexOf('landing') > -1) $('#router').html(evt.detail.newContent), 
 fsm.is('animate') && fsm.load(), fsm.clone(); else {
  var newContent = $(evt.detail.newContent).filter('.l-wrapper');
  $('#router').find('.l-wrapper').html(newContent.html()), fsm.fade();
 }
}
function cloneDom($cont_) {
 let haf = $(window).width() / 2, he = $(window).height() + 'px ', fr = ($(window).height(), 
 'inset(0px ' + (haf += 'px') + ' 0px 0px)'), cr = 'inset(0px 0px 0px ' + haf + ')', $firstSl = $cont_.clone(!0);
 $firstSl.find().remove('script');
 let $cloneSl = $firstSl.clone(!0);
 $('#routerFx').append($firstSl), $firstSl.wrapAll('<div id="firstSl" class="firstSl"/>'), 
 $('#routerFx').append($cloneSl), $cloneSl.wrapAll('<div id="cloneSl" class="cloneSl"/>'), 
 TweenLite.set('#firstSl', {
  clipPath: fr,
  x: 0,
  y: 0,
  z: 0,
  zIndex: 8,
  minHeight: he,
  width: '100vw',
  '-webkit-clip-path': fr
 }), $('#firstSl').addClass('will-change'), $('#firstSl *').addClass('will-change'), 
 TweenLite.set('#cloneSl', {
  clipPath: cr,
  x: 0,
  y: -$(window).height(),
  z: 0,
  zIndex: 9,
  minHeight: he,
  width: '100vw',
  '-webkit-clip-path': cr
 }), $('#cloneSl').addClass('will-change'), $('#cloneSl *').addClass('will-change'), 
 $('#routerFx').addClass('d-none');
}
function splitAnimation($contFx) {
 $contFx.removeClass('d-none'), TweenLite.to($contFx.find("#firstSl"), 1, {
  y: $(window).height(),
  force3D: !0,
  ease: Power0.easeNone,
  z: .1,
  rotationZ: .01
 }), TweenLite.to($contFx.find("#cloneSl"), 1, {
  y: 2 * -$(window).height(),
  ease: Power0.easeNone,
  force3D: !0,
  z: .1,
  rotationZ: .01,
  onComplete: function() {
   $contFx.empty(), fsm.load(), mobileMenu();
  }
 });
 TweenLite.getTweensOf($contFx.find("#firstSl"));
}
function fadeAnimation() {
 TweenLite.fromTo($('.l-wrapper'), 1, {
  opacity: 0
 }, {
  opacity: 1,
  ease: Power0.easeNone,
  onComplete: function() {
   fsm.load();
  }
 });
}
window.location.href.indexOf('landing') > -1 && fsm.clone(), SPArouter.init(onNavigate);