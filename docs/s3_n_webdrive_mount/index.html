<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Create linux machine, install Caddy with webDAV and mount folder from linux machine to your PC via Mountain Duck - mBake Guide</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Create linux machine, install Caddy with webDAV and mount folder from linux machine to your PC via Mountain Duck";
    var mkdocs_page_input_path = "s3_n_webdrive_mount.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> mBake Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Create linux machine, install Caddy with webDAV and mount folder from linux machine to your PC via Mountain Duck</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#create-linux-machine-install-caddy-with-webdav-and-mount-folder-from-linux-machine-to-your-pc-via-mountain-duck">Create linux machine, install Caddy with webDAV and mount folder from linux machine to your PC via Mountain Duck</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#steps">Steps</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ca/">Mount linux box folder to another linux box using CodeAnywhere editor</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../pug_static_data/">Learn Templating/Pug</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../spectre_n_scss/">Spectre SCSS Theme Framework and SCSS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../dynamic_data_binding/">Dynamic databinding</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../crud/">Generate a serverless CRUD webapp</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../model/">Simple CRUD example app and ViewModel+Bind</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../design/">Design</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../blog/">Blog</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../res/">Resources</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../about/">About</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">mBake Guide</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Create linux machine, install Caddy with webDAV and mount folder from linux machine to your PC via Mountain Duck</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="create-linux-machine-install-caddy-with-webdav-and-mount-folder-from-linux-machine-to-your-pc-via-mountain-duck">Create linux machine, install Caddy with webDAV and mount folder from linux machine to your PC via Mountain Duck</h1>
<p>mbake is Cloud v2.0. You do not need to install or maintain any HTTP, DB or any other server.</p>
<h2 id="steps">Steps</h2>
<ol>
<li>
<p>Setup up a Linux box in the cloud, e.g. <a href="www.digitalocean.com">Digital Ocean</a>.</p>
</li>
<li>
<p>Change the root password for DO linux box. Connect by ssh in terminal. It will ask to enter existing password and then new password:</p>
<pre><code>$ ssh root@[IP-Address]
</code></pre>
</li>
<li>
<p>Setup a Web IDE account, e.g. <a href="https://codeanywhere.com">CodeAnywhere</a> online text editor (hereafter CA)</p>
</li>
<li>
<p>In CA, connect to the Linux box.</p>
</li>
<li>
<p>In CA, open SSH to the Linux box.</p>
</li>
<li>
<p>Install yarn, mbake, typescript</p>
</li>
<li>
<p>On Linux machine, install Caddy with webDAV plugin, eg:</p>
<pre><code>$ curl https://getcaddy.com | bash -s personal http.webdav
</code></pre>
</li>
<li>
<p>Add <code>Caddyfile</code> to the root folder and config it, eg:</p>
<pre><code>:8080 {  #cdn would go to this 
    root /root/www
    gzip
    mime .css text/css
    # set user for the /webdav path
    basicauth /webdav admin 123123 
    webdav /webdav

    log ../log1
    errors ../err1
}
</code></pre>
</li>
<li>
<p>Create folder <code>www</code> and in this folder download blog source:</p>
<pre><code>$ mkdir www
$ cd www 
$ mbake -b

compile files:

$ mbake -c .
$ cd assets
$ mbakeW -s .
$ cd ..
$ cd blog
$ mbake -i .
</code></pre>
</li>
<li>
<p>Run Caddy server, from the root folder where Caddyfile is:</p>
<pre><code>$ caddy -conf Caddyfile 
// or 
$ caddy 
// or (to leave caddy server running after you'll quit the terminal or close the CA tab)
$ nohup caddy &amp;
</code></pre>
</li>
<li>
<p>In browser open the url, change ip address to your linux box ip address:</p>
<pre><code>http://157.230.189.157:8080/webdav

login with login and password which you've set in Caddyfile and go to url (with your linux box ip address), it should show your site from www folder:

http://157.230.189.157:8080/
</code></pre>
</li>
<li>
<p>Install on Mac <a href="https://mountainduck.io">Mountain Duck</a> you may choose a different <em>webDAV mount</em> software. Mount replaces FTP.</p>
</li>
<li>
<p>In Mountain Duck, create a new <code>webDAV (HTTP)</code> connection. Fill the fields for <code>server</code> and <code>username</code>, <code>path</code> -- <code>/webdav/www</code> then click <code>connect</code>, it will ask for username and password enter the username and password from Caddyfile. The mounted folder will open in Finder. 
    Now you have mounted folder of your site from linux machine on your local PC and you can edit it.</p>
</li>
<li>
<p>Create an account on <a href="https://www.cdn77.com/">CDN77</a> if you don't already have one.</p>
</li>
<li>
<p>Go to <a href="https://client.cdn77.com">CDN 77</a> and create a resource for your linux machine: select <code>My Origin</code>, select <code>http://</code> and in the <code>domain</code> field type in the ip address of your linux machine and specify the port (8080 in our case)</p>
</li>
<li>
<p>Go to tab <code>other settings</code> and select <code>cache expiry</code> -- <code>10 minutes</code>, then go to <code>Purge</code> tab and <code>purge all files</code>. This action is needed to reduce the time of files caching.</p>
</li>
<li>
<p>To verify that the mount is working, you can edit some file and check if changes applied in the browser via the Endpoint URL from your recently created CDN Resource. For the url check tab <code>Overview</code> --&gt; <code>CDN Resource URL</code> (note that it might pass some time, eg: 5 minutes for changes to apply).</p>
</li>
</ol>
<p><strong>Summary</strong>: With Cloud hosting and mount, you can edit apps from your filesystem and see the edits reflected on the web without extra deployment work.</p>
<p>In the <a href="/ca/">next tutorial</a> you will learn how to mount folder from Linux box to another linux box via CodeAnywhere.</p>
<p>NEXT: Go to <a href="/ca/">Mount linux box folder to another linux box using CodeAnywhere editor</a>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ca/" class="btn btn-neutral float-right" title="Mount linux box folder to another linux box using CodeAnywhere editor">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../ca/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
