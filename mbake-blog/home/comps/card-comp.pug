card-comp
  .cards-container 
    .columns
      virtual(each='{items}')
        .column.col-6.col-sm-12
          .card
            .card-image
              a(href='{url}')
                img.img-responsive(src='{img_url}')
            .card-header
              .card-title.h5 { title }
              .card-subtitle.text-gray 
                i.far.fa-clock 
                |  { date }
            .card-body Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            .card-footer
              button.btn.btn-primary { topic }

  script.
    console.info('oh hi tag');
    this.on('*', function(evt) {
        console.info('riot', evt);
    });
    this.items = [];
    thiz = this;

    render(data) {
        console.info(data);
        if(!data ) {
            thiz.items = [];
            thiz.update();
            return;
        }
        console.info(Object.keys(data[0]));
        // clone
        let cloned = JSON.parse(JSON.stringify(data));
        thiz.items = cloned;
        
        let sz = thiz.items.length;
        for(i = 0; i < sz; i++) {
              var item = thiz.items[i];

              item.url = '/posts/' + item.url;
              console.info(item.url);
          }

        thiz.update();

    }
