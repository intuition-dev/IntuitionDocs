
<head>
  <script>
    var _start = Date.now()
    window.ENV = '0' //- for comps, but it is also in scope for Pug for ENV logic
    
  </script>
  <title></title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <script src="https://cdn.jsdelivr.net/npm/johnnydepp@0.1.0/dist/depp.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/intuition-dev/toolBelt@v1.9.29/src/toolBelt.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/intuition-dev/intuDS@v1.0.3/src/css/min.min.css"/>
</head>
<body>
  <link rel="stylesheet" href="/landing/css/pagination.css"/>
  <p>Title</p>
  <div id="data-container">
    <div id="cards"></div>
    <template id="card"><span>{{#.}}</span>
      <div class="card">
        <div class="imgCont"><img src="temp.jpg"/></div>
        <div class="txtCont">
          <h4>This is the tile</h4>
          <p>This is the description</p>
        </div>
      </div><span>{{/.}}</span>
    </template>
    <style>
      #cards {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          align-content: flex-start;
          
          background: hsl(0, 0%, 98%);
      
      }
      /*
          width = item + margin to make orphan go left
      */
      #cards:after {
          content: '';
          width: 321px;
      }
      
      .card {
          width: 320px;
          height: 260px ;
      
          margin: 0px;
          overflow: hidden;
      
          background: white;
          border-style: outset;
          border-width: .05px;
          border-color: #DCDCDC;
      }
      
      .imgCont {
          height:180px;
          overflow: hidden;
      }
      img {
          width: 100%;
          height: 180px;
          object-fit: cover;
      }
      .txtCont {
          padding-left: 1em;
      }
      
    </style>
    <script>
      function cardRender(data) {
          console.log('ren', Object.keys(data[0]))
          
          let html = renderMustache(document, 'card', data) 
      
          document.getElementById('cards').innerHTML = html
      
      }
    </script>
  </div>
  <div id="pagination-container"></div>
  <style>
    #pagination-container {
        padding: 1em;
        padding-left: 3.5em;
    }
    
  </style>
  <script>
    depp.require(['jquery', 'pagination', 'mustache', 'poly'],function(){
    
        fetchItems('/items/items.json').then(function (items) {
            //console.log(items)
            paginate(items)
    
        })
    })//()
    
    function paginate(feed_) {
        console.log('oh hi')
    
        var dataSource_ = feed_.items
    
        var perPage = _guessShow()
        
        $('#pagination-container').pagination({
            dataSource: dataSource_,
            callback: function(data, pagination) {
                cardRender(data)
            }//cb
        })
    }//()
    
    
    function _guessShow() {
        let n = ( $(window).width() * $(window).height()  ) / ( 300 * 400) * .9
        n = Math.round( n * .7)
        console.log('g', n)
        return n
    }//()
  </script>
<!-- mB v6.09.30 on 2019-10-02T20:17:03.746Z --></body>