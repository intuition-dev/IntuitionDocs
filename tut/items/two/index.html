
<head>
  <script>
    var _start = Date.now()
    window.ENV = '0' //- for comps, but it is also in scope for Pug for ENV logic
    
  </script>
  <title></title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <script src="https://cdn.jsdelivr.net/npm/johnnydepp@0.1.0/dist/depp.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/intuition-dev/toolBelt@v1.9.21/src/toolBelt.min.js"></script>
  <style>
    html { touch-action: manipulation; }
    .delayShowing { opacity: 0; }
    .blur { -webkit-filter:blur(2px);filter:blur(2px); }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/intuition-dev/intuDS@v1.0.3/src/css/min.min.css"/>
</head>
<body>
  <div class="pgCont">
    <div class="top">
      <p>oh hi</p>
      <hr/>
    </div>
    <div class="cont">
      <div id="left">
        <div class="main">
          <div class="mediaContainerTop">
            <p>oh hi</p>
            <!--vXideo#vid1.vid( autoplay preload='auto' loop muted )
            source(src='arc2.mp4' type="video/mp4" )
            
            -->
          </div>
          <div class="mainBot">
            <p>oh hi</p>
          </div>
        </div>
      </div>
      <div id="right">
        <button>Up</button>
        <p></p>
        <button>Down</button>
      </div>
    </div>
  </div>
  <style>
    /* video detach button 
    //  video popout
     https://css-tricks.com/custom-controls-in-html5-video-full-screen/
    */
    ::-webkit-media-controls {
        display:none !important;
    }
    video::-webkit-media-controls-enclosure {
       display:none !important;
    }
    
    * { margin: 0; padding: 0; }
    html, body { 
        width: 100%; 
        height: 100%; 
        overflow: hidden;
    }
    .pgCont {
        display: flex;
        flex-direction: column;
        height: 100vh;
        max-height: 100vh;
    }
    .top {
        height: 3.5em;
    }
    
    .cont {
        display: flex; /* 2nd fle level */
        flex-grow: 1; 
    }
    #left {
        width: calc(100% - 100px);
    }
    
    .main {
        display: flex; /* 3rd flex level */
        flex-direction: column;
        height: calc(100% - 3.4em);
        overflow: hidden;
    
        border:  3px solid yellow;
        background: green;            
    }
    .mediaContainerTop { /* fluid */
        flex-grow: 0;
        position: relative;
        
        border:  1px solid red;
        background: gray;	
    }
    .mainBot {
        flex-grow: 1;
    
        border:  1px solid blue;
        background: silver;	           
    }
    
    
  </style>
  <script>
    // https://codetheory.in/html5-fullscreen-background-video/
    //window.addEventListener('resize', resizeVid) 
    function resizeVid() {
        var w = $('.main').width()
        var h = $('.main').height() - $('.mainBot').height()
    
        // math:
        console.log('>>>>')
        var nh = w * 0.5625
        var nw = h * 1.7777 //based on new hn
        console.log('c:', w, h, nw, nh)       
    
        if(nw>w) {
            console.log('too wide')
            // the problem
            $('.mediaContainerTop').width( w)
            $('.mediaContainerTop').height( nh)
        }
        if(nh>h) {
            console.log('too tall')
            $('.mediaContainerTop').width( nw)
            $('.mediaContainerTop').height(  nh)
        }
    
        nw = nw-5
        
        console.log('<<<')
    }//()
    
    
    toolBeltDefault()
    depp.require(['DOMDelayed', 'jquery'], function() {
    
        //resizeVid()
        console.log('ready')
    })//depp
  </script>
<!-- mB v6.09.19 on 2019-09-27T19:46:25.256Z --></body>