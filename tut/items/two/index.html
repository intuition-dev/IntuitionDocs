
<head>
  <script>
    var _start = Date.now()
    window.ENV = '0' //- for comps, but it is also in scope for Pug for ENV logic
    
  </script>
  <title></title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <script src="https://cdn.jsdelivr.net/npm/johnnydepp@0.1.0/dist/depp.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/intuition-dev/toolBelt@v1.9.21/src/toolBelt.min.js"></script>
  <style>
    html { touch-action: manipulation; }
    .delayShowing { opacity: 0; }
    .blur { -webkit-filter:blur(2px);filter:blur(2px); }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/intuition-dev/intuDS@v1.0.3/src/css/min.min.css"/>
</head>
<body>
  <div class="pgCont">
    <div class="top">
      <p>oh hi</p>
      <hr/>
    </div><span class="splitCont">
      <div class="split" id="left">
        <div class="main">
          <div class="mediaContainerTop">
            <p>oh hi</p>
            <!--vXideo#vid1.vid( autoplay preload='auto' loop muted )
            source(src='arc2.mp4' type="video/mp4" )
            
            -->
          </div>
          <div class="mainBot">
            <p>oh hi</p>
          </div>
        </div>
      </div>
      <div class="split" id="right">
        <div>
          <button>Up</button>
          <p></p>
          <button>Down</button>
        </div>
      </div></span>
  </div>
  <style>
    /* video detach button */
    //  video popout
    // https://css-tricks.com/custom-controls-in-html5-video-full-screen/
    // May remove other useful browser popups, inserted after "body" element.
    ::-webkit-media-controls {
        display:none !important;
    }
    video::-webkit-media-controls-enclosure {
       display:none !important;
    }
    
    * { margin: 0; padding: 0; }
    html, body { 
        width: 100%; 
        height: 100%; 
    }
    .pgCont {
        display: flex;
        flex-direction: column;
        height: 100vh;
        max-height: 100vh;
    }
    .splitCont {
        flex-grow: 1;
    }
    .gutter {
        background-color: gray;
        width: 10px;
    }
    
    .top {
        height: 3.5em;
    }
    .main {
        display: flex; /* second flex level */
        flex-direction: column;
        height: calc(100% - 3.4em);
    
        border:  3px solid yellow;
        background: gren;	
    }
    .mediaContainerTop { /* fluid */
        flex-grow: 1;
        position: relative;
        
        border:  1px solid red;
        background: gray;	
    }
    .mainBot {
        flex-grow: 1;
    
        border:  1px solid blue;
        background: silver;	           
    }
    
    .Xvid { /* ratio */
    	position: absolute;
        top: 0;
        left: 0;
        Xwidth:  100%;
        Xheight: 100%;
    
        border:  3px solid red;
        background: teal;	
     }
    
  </style>
  <script>
    window.addEventListener('resize', resizeVid) 
    function resizeVid() {
        var w = $('.mediaContainerTop').width()
        var h = $('.mediaContainerTop').height()
        var nh = w * 0.5625
        var nw = h * 1.7777
    
         // now math    
        console.log('>>>>')
        console.log('w', w, h, nw, nh)
    
        if(nh > h)
            $('#vid1').height(nh)
        
        if(nw>w)
            $('#vid1').width(nw)
    
        // margin
        nh= nh - h
        nh = nh/2
        nh = nh + 'px'
        console.log('w', w, h, nw, nh)
        //$('#vid1').css('margin-top', nh )
        console.log('<<<')
    }//()
    
    
    toolBeltDefault()
    depp.require(['split', 'DOMDelayed', 'jquery'], function() {
        
        var sp = Split( [document.querySelector('#left'), document.querySelector('#right')] , {
            direction: 'horizontal',
            sizes: [80, 20],
            minSize: 0
        })
        console.log('ready!')
    
        resizeVid()
        
    })//depp
  </script>
<!-- mB v6.09.19 on 2019-09-27T16:11:52.415Z --></body>