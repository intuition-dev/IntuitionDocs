
<head>
  <script>
    var _start = Date.now()
    window.ENV = '0' //- for comps, but it is also in scope for Pug for ENV logic
    
  </script>
  <title></title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <script src="https://cdn.jsdelivr.net/npm/johnnydepp@0.1.0/dist/depp.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/intuition-dev/toolBelt@v1.9.21/src/toolBelt.min.js"></script>
  <style>
    html { touch-action: manipulation; }
    .delayShowing { opacity: 0; }
    .blur { -webkit-filter:blur(2px);filter:blur(2px); }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/intuition-dev/intuDS@v1.0.3/src/css/min.min.css"/>
</head>
<body>
  <div class="epis">
    <div class="split" id="left">
      <p>what</p>
      <!-- http://dinbror.dk/blog/how-to-preload-entire-html5-video-before-play-solved/-->
      <div class="video_container">
        <video class="vid" id="vid1" autoplay="autoplay" preload="auto" loop="loop" muted="muted">
          <source src="arc2.mp4" type="video/mp4"/>
        </video>
      </div>
      <div class="under">  
        <p>now</p>
      </div>
    </div>
    <div class="split" id="right">
      <div>
        <button>Up</button>
        <p></p>
        <button>Down</button>
      </div>
    </div>
  </div>
  <style>
    /* video detach button */
    //  video popout
    // https://css-tricks.com/custom-controls-in-html5-video-full-screen/
    // May remove other useful browser popups, inserted after "body" element.
    ::-webkit-media-controls {
        display:none !important;
    }
    video::-webkit-media-controls-enclosure {
       display:none !important;
    }
    
    * { margin: 0; padding: 0; }
    html, body { 
        width: 100%; 
        height: 100%; 
    }
    
    .video_container {
        position: relative;
        width: 100%; 
        height: 0;
        padding-bottom: 56.25%;
        padding-top: 25px;
    }
    
    .vid {
    	position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: teal;	
    
     }
    
    
    .video_container {
        height:  calc(100% - 100px);
        
        border:  3px solid yellow;
    }
    
    
  </style>
  <script>
    window.addEventListener('resize', resizeVid) 
    function resizeVid() {
        var w = $('.video_container').width()
        var h = $('.video_container').height()
        var nh = w * 0.5625
        var nw = h * 1.7777
    
         // now math    
        console.log('>>>>')
        console.log('w', w, h, nw, nh)
    
        if(nh > h)
            $('#vid1').height(nh)
        
        if(nw>w)
            $('#vid1').width(nw)
    
    
        // margin
        nh= nh - h
        nh = nh/2
        nh = nh + 'px'
        console.log('w', w, h, nw, nh)
        //$('#vid1').css('margin-top', nh )
        console.log('<<<')
    }//()
    
    
    toolBeltDefault()
    depp.require(['split', 'DOM', 'jquery'], function() {
        console.log('ready!')
        resizeVid()
        
        var sp = Split( [document.querySelector('#left'), document.querySelector('#right')] , {
           sizes: [90, 10],
           minSize: 200
        })
        //console.log(sp.getSizes())
    
    })//depp
  </script>
<!-- mB v6.09.19 on 2019-09-26T01:30:02.181Z --></body>